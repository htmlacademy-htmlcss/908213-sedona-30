let BlockFormHotelSearch=document.querySelector(".block-form-hotel-search"),hotelSearchBtn=document.querySelector(".hotel-search-btn"),FormHotelSearch=BlockFormHotelSearch.querySelector(".form-hotel-search"),FormArrivalDate=FormHotelSearch.querySelector("[name=arrival-date]"),FormDepartureDate=FormHotelSearch.querySelector("[name=departure-date]"),FormArrivalDateGrownup=FormHotelSearch.querySelector("[name=arrival-date-grownup]"),FormArrivalDateChildren=FormHotelSearch.querySelector("[name=arrival-date-children]"),isStorageSupport=!0,storageQuantityGrownup="",storageQuantityChildren="";BlockFormHotelSearch.classList.remove("modal-show"),FormArrivalDate.removeAttribute("required"),FormDepartureDate.removeAttribute("required");try{storageQuantityGrownup=localStorage.getItem("quantity_grownup"),storageQuantityChildren=localStorage.getItem("quantity_children")}catch(e){isStorageSupport=!1}hotelSearchBtn.addEventListener("click",function(e){e.preventDefault(),BlockFormHotelSearch.classList.remove("modal-error"),BlockFormHotelSearch.classList.toggle("modal-show"),setTimeout(()=>{FormArrivalDate.focus()},1500),FormArrivalDateGrownup&&FormArrivalDateChildren&&(FormArrivalDateGrownup.value=storageQuantityGrownup,FormArrivalDateChildren.value=storageQuantityChildren)}),FormHotelSearch.addEventListener("submit",function(e){!FormArrivalDate.value||!FormDepartureDate.value||FormArrivalDateGrownup.value<1?(e.preventDefault(),BlockFormHotelSearch.classList.remove("modal-error"),BlockFormHotelSearch.offsetWidth=BlockFormHotelSearch.offsetWidth,BlockFormHotelSearch.classList.add("modal-error")):isStorageSupport&&(localStorage.setItem("quantity_grownup",FormArrivalDateGrownup.value),localStorage.setItem("quantity_children",FormArrivalDateChildren.value))}),hotelSearchBtn.addEventListener("click",function(e){BlockFormHotelSearch.classList.contains("modal-show")||FormHotelSearch.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&BlockFormHotelSearch.classList.contains("modal-show")&&(e.preventDefault(),BlockFormHotelSearch.classList.toggle("modal-show"))});
